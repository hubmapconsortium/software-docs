---
layout: page
---
# Combined Bulk Registration

To bulk register donors and samples at the same time, log into the [Data Ingest Portal](https://ingest.hubmapconsortium.org) and use the "Donors + Samples" menu pick under the "Bulk" menu.

On the combined bulk registration page you'll be asked to upload a .tsv file where each row contains the information for a donor, organ, and sample(block) to be registered.  An [example combined.tsv](https://raw.githubusercontent.com/hubmapconsortium/ingest-ui/master/src/src/assets/Documents/example_combined.tsv) file is provided as a template. This .tsv file contains 19 columns (fields) that contain required information for each donor and sample to be registered. If sections are also to be registered, that information will be required as well.  A description of these fields is below.  Once the .tsv file has been successfully uploaded and submitted the system will register the donors and samples provide the new HuBMAP IDs for these entities.

### Donor Registration Fields

| Field/Column             | Description                                                                                                                                                                                                                                                                                       |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| donor_lab_id             | REQUIRED: An id used internally by the lab for the donor.  DO NOT INCLUDE ANY PHI in this id.                                                                                                                                                                                                     |
| donor_selection_protocol | REQUIRED: A DOI URL from the [protocols.io site](https://protocols.io) of a protocol describing the selection protocol used to select the donor.                                                                                                                                                  |
| donor_description        | A general description of the donor for public display and to be used to find the donor by searching in the Data Ingest Portal.  DO NOT INCLUDE ANY PHI in this description.                                                                                                                       |
| organ_type               | REQUIRED: This is the HuBMAP defined code for the organ that this registration represents (example, `BR` for Brain or `LK` for Left Kidney) from the [organ_types.yaml file](https://github.com/hubmapconsortium/search-api/blob/main/src/search-schema/data/definitions/enums/organ_types.yaml). |
| organ_protocol           | REQUIRED: A DOI URL from the [protocols.io site](https://protocols.io) of a protocol describing the procedure used when creating/preparing the organ.                                                                                                                                             |
| sample_lab_id            | REQUIRED: An id used internally by the lab for the sample.                                                                                                                                                                                                                                        |
| block_protocol           | REQUIRED: A DOI URL from the [protocols.io site](https://protocols.io) of a protocol describing the procedure used when creating/preparing the block.                                                                                                                                             |
| block_thumbnail          | REQUIRED: The name of the thumbnail file for the block to be registered.                                                                                                                                                                                                                          |
| block_description        | A description of the block for purposes of generally describing the block and finding for use to find it via keyword search in the Data Ingest Portal.                                                                                                                                            |
| block_preservation       | REQUIRED: The code for the block preservation method (example, `PE` for paraffin embedded or `FF` for flash frozen).                                                                                                                                                                              |
| block_thickness          | REQUIRED: The magnitude of the thickness measurement of the block. The units for the measurement are a separate field "block_thickness_unit".                                                                                                                                                     |
| block_thickness_unit     | REQUIRED: The unit of measurement for the block_thickness (example, `mm` for millimeters or `cm` for centimeters).                                                                                                                                                                                |
| block_diameter           | REQUIRED: The magnitude of the diameter measurement of the block. The units for the measurement are a separate field "block_diameter_unit".                                                                                                                                                       |
| block_diameter_unit      | REQUIRED: the unit of measurement for the block_diameter (example, `mm` for millimeters or `cm` for centimeters).                                                                                                                                                                                 |
| block_disc_number        | REQUIRED: An integer value corresponding to the disc number for the given block.                                                                                                                                                                                                                  |
| block_quadrant           | REQUIRED: A letter (A, B, D, or C) representing which of the 4 quadrants the given block corresponds with.                                                                                                                                                                                        |
| block_sections           | An integer representing the number of sections to be created from the given block. If this field is not blank, fields "section_thickness" and "section_thickness_unit" become required.                                                                                                           |
| section_thickness        | The magnitude of the thickness measurement for each section created by the given block. The units for the measurement are a separate field "section_thickness_unit". This field is only allowed (and required) when "block_sections" is not blank.                                                |
| section_thickness_unit   | The unit of measurement for the section_thickness (example, `mm` for millimeters or `cm` for centimeters). This field is only allowed (and required) when "block_sections" is not blank.                                                                                                          | 

### Validation
After uploading the tsv file, the file will be validated to verify that every required field is included and that all entries match the expected types of input. Once validation passes, users will be given the chance to confirm that they wish to create these entities. 
Donor entities will be registered, followed by sample entities organ and then block. If a value is given for the block_sections field, a corresponding number of section entities will be registered. If validation fails, the user will be given details of the rows that failed so that they can correct the issues and submit again. 

### Donor metadata submission
After donors have been registered documents need to be provided to the HIVE so additional "Donor Metadata" can be extracted.  See a description on the [Donor MetadataPage](https://software.docs.hubmapconsortium.org/donor.html).

### Sample Metadata Submission
After samples have been registered sample metadata must be provided to the HuBMAP data curators.  Please contact help@hubmapconsortium.org to initiate this process.  See a description on the sample metadata, submitted as .tsv files on the  [Sample Metadata TSV Page](https://hubmapconsortium.github.io/ingest-validation-tools/sample/).