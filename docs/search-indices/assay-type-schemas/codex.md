---
layout: page
---
# CODEX / CODEX2

## Overview:
This schema is for CO-Detection by indEXing (CODEX). CODEX uploads require metadata on the antibodies used in the assay to be provided in an Antibodies TSV. For CODEX, in that TSV, the channel_id is a cycle#/channel# combination linked to a given image file (of the form Cycle[0-9]_CH[0-9]). Each TIF file in a CODEX dataset contains image data captured from a single channel in a single cycle, identified and connected to the channel_id by its location in the upload directory (of the form src_*/cyc*_reg*_*/*_*_Z*_CH*.tif). For an example of a CODEX dataset & directory, see this example  CODEX dataset and click the Globus link.
The other fields function the same way for all assays using antibodies. For more information, see the Antibodies TSV documentation.

### Last Updated: 2023-04-25

### Version 1 (current)

## Metadata Schema

| Attribute | Description | shared/unique | enum | required | format | required if | type | pattern (regular expression) | url |
|-----------|-------------|---------------|------|----------|--------|-------------|------|------------------------------|-----|
| version | Version of the schema to use when validating this metadata. | Shared by all types | 1 | True |   |   |   |   |   |
| description | Free-text description of this assay. | Shared by all types |   | True |   |   |   |   |   |
| donor_id | HuBMAP Display ID of the donor of the assayed tissue. Example: ABC123. | Shared by all types |   | True |   |   |   | [A-Z]+[0-9]+ |   |
| tissue_id | HuBMAP Display ID of the assayed tissue. Example: ABC123-BL-1-2-3_456. | Shared by all types |   | True |   |   |   | (([A-Z]+[0-9]+)-[A-Z]{2}\d*(-\d+)+(_\d+)?)(,([A-Z]+[0-9]+)-[A-Z]{2}\d*(-\d+)+(_\d+)?)* |   |
| execution_datetime | Start date and time of assay, typically a date-time stamped folder generated by the acquisition instrument. YYYY-MM-DD hh:mm, where YYYY is the year, MM is the month with leading 0s, and DD is the day with leading 0s, hh is the hour with leading zeros, mm are the minutes with leading zeros. | Shared by all types |   | True | %Y-%m-%d %H:%M |   | datetime |   |   |
| protocols_io_doi | DOI for protocols.io referring to the protocol for this assay. | Shared by all types |   | True |   |   |   | 10\.17504/.* | prefix: https://dx.doi.org/ |
| operator | Name of the person responsible for executing the assay. | Shared by all types |   | True |   |   |   |   |   |
| operator_email | Email address for the operator. | Shared by all types |   | True | email |   |   |   |   |
| pi | Name of the principal investigator responsible for the data. | Shared by all types |   | True |   |   |   |   |   |
| pi_email | Email address for the principal investigator. | Shared by all types |   | True | email |   |   |   |   |
| assay_category | Each assay is placed into one of the following 4 general categories: generation of images of microscopic entities, identification & quantitation of molecules by mass spectrometry, imaging mass spectrometry, and determination of nucleotide sequence. | Shared by all types | imaging | True |   |   |   |   |   |
| assay_type | The specific type of assay being executed. | Shared by all types | CODEX or CODEX2 | True |   |   |   |   |   |
| analyte_class | Analytes are the target molecules being measured with the assay. | Shared by all types | protein | True |   |   |   |   |   |
| is_targeted | Specifies whether or not a specific molecule(s) is/are targeted for detection/measurement by the assay. | Shared by all types |   | True |   |   | boolean |   |   |
| acquisition_instrument_vendor | An acquisition_instrument is the device that contains the signal detection hardware and signal processing software. Assays generate signals such as light of various intensities or color or signals representing molecular mass. | Shared by all types | Keyence or Zeiss | True |   |   |   |   |   |
| acquisition_instrument_model | Manufacturers of an acquisition instrument may offer various versions (models) of that instrument with different features or sensitivities. Differences in features or sensitivities may be relevant to processing or interpretation of the data. | Shared by all types | BZ-X800, BZ-X710, or Axio Observer Z1 | True |   |   |   |   |   |
| resolution_x_value | The width of a pixel. (Akoya pixel is 377nm square) | Unique to this type |   | True |   |   | number |   |   |
| resolution_x_unit | The unit of measurement of width of a pixel.(nm) Leave blank if not applicable. | Unique to this type | mm, um, or nm | False |   | resolution_x_value present |   |   |   |
| resolution_y_value | The height of a pixel. (Akoya pixel is 377nm square) | Unique to this type |   | True |   |   | number |   |   |
| resolution_y_unit | The unit of measurement of height of a pixel. (nm) Leave blank if not applicable. | Unique to this type | mm, um, or nm | False |   | resolution_y_value present |   |   |   |
| resolution_z_value | Optional if assay does not have multiple z-levels. Note that this is resolution within a given sample: z-pitch (resolution_z_value) is the increment distance between image slices (for Akoya, z-pitch=1.5um) ie. the microscope stage is moved up or down in increments of 1.5um to capture images of several focal planes. The best one will be used & the rest discarded. The thickness of the sample itself is sample metadata. Leave blank if not applicable. | Unique to this type |   | False |   |   | number |   |   |
| resolution_z_unit | The unit of incremental distance between image slices. Leave blank if not applicable. | Unique to this type | mm, um, or nm | False |   | resolution_z_value present |   |   |   |
| preparation_instrument_vendor | The manufacturer of the instrument used to prepare the sample for the assay. | Unique to this type | CODEX | True |   |   |   |   |   |
| preparation_instrument_model | The model number/name of the instrument used to prepare the sample for the assay. | Unique to this type | version 1 robot or prototype robot - Stanford/Nolan Lab | True |   |   |   |   |   |
| number_of_antibodies | Number of antibodies. | Unique to this type |   | True |   |   | integer |   |   |
| number_of_channels | Number of fluorescent channels imaged during each cycle. | Unique to this type |   | True |   |   | integer |   |   |
| number_of_cycles | Number of cycles of 1. oligo application, 2. fluor application, 3. washes. | Unique to this type |   | True |   |   | integer |   |   |
| section_prep_protocols_io_doi | DOI for protocols.io referring to the protocol for preparing tissue sections for the assay. | Unique to this type |   | True |   |   |   | 10\.17504/.* | prefix: https://dx.doi.org/ |
| reagent_prep_protocols_io_doi | DOI for protocols.io referring to the protocol for preparing reagents for the assay. | Unique to this type |   | True |   |   |   | 10\.17504/.* | prefix: https://dx.doi.org/ |
| antibodies_path | Relative path to file with antibody information for this dataset. | Unique to this type |   | True |   |   |   |   |   |
| contributors_path | Relative path to file with ORCID IDs for contributors for this dataset. | Unique to this type |   | True |   |   |   |   |   |
| data_path | Relative path to file or directory with instrument data. Downstream processing will depend on filename extension conventions. | Unique to this type |   | True |   |   |   |   |   |
